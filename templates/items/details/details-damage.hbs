{{!-- TODO: Unify this with activity damage part --}}

{{!-- Custom Formula --}}
<div class="form-group split-group">
    <label>{{ localize "DND5E.Formula" }}</label>
    <div class="form-fields">

        {{!-- Enable --}}
        {{ formInput fields.custom.fields.enabled name=(concat prefix "custom.enabled") value=source.custom.enabled
                     input=inputs.createCheckboxInput }}

        {{!-- Formula --}}
        {{#if source.custom.enabled}}
        {{ formInput fields.custom.fields.formula name=(concat prefix "custom.formula") value=source.custom.formula }}
        <input type="hidden" name="{{ prefix }}number" value="{{ source.number }}" data-dtype="Number">
        <input type="hidden" name="{{ prefix }}denomination" value="{{ source.denomination }}" data-dtype="Number">
        <input type="hidden" name="{{ prefix }}bonus" value="{{ source.bonus }}">
        {{/if}}
    </div>
</div>

{{!-- Simple Input --}}
{{#unless source.custom.enabled}}
<div class="form-group split-group">
    <label>{{ localize "DND5E.DAMAGE.Title" }}</label>
    <div class="form-fields">

        {{!-- Number --}}
        {{ formField fields.number name=(concat prefix "number") value=source.number label="DND5E.Number" localize=true
                     classes="label-top" placeholder=numberPlaceholder }}

        {{!-- Die --}}
        {{ formField fields.denomination name=(concat prefix "denomination") value=source.denomination label="DND5E.Die"
                     localize=true options=denominationOptions classes="label-top" }}

        {{!-- Bonus --}}
        {{ formField fields.bonus name=(concat prefix "bonus") value=source.bonus label="DND5E.Bonus" localize=true
                     classes="label-top" }}
    </div>
</div>
{{/unless}}

{{!-- Types --}}
{{#if types}}
{{ formField fields.types name=(concat prefix "types") value=source.types options=types label="DND5E.Type"
             localize=true }}
{{/if}}
